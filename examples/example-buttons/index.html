<!doctype html>
<html>
  <head>
    <title>Buttons Test</title>
    <style media="screen">
      * {
        box-sizing: border-box;
      }

      body, html {
        margin: 0;
        width: 100%;
        height: 100%;
        font-family: helvetica, arial;
      }
    </style>
  </head>
  <body>

    <script src="../../dist/goolib.js" charset="utf-8"></script>
    <script src="../vendor/TweenMax.min.js" charset="utf-8"></script>
    <script type="text/javascript">
      var stage = new goolib.DisplayObject();
      document.body.appendChild(stage.getElement());
      stage.setStyles({
        width: "100%",
        height: "100%",
        background: "#c0c0c0"
      });

      var buttonContainer = new goolib.DisplayObject();
      stage.addChild(buttonContainer);

      var AbstractButton = goolib.DisplayObject.extend({
        init: function() {
          this.setStyles({
            cursor: "pointer"
          });
        }
      });

      var SimpleButton = AbstractButton.extend({
        init: function(label) {
          this._super();
          this.setText(label);
          this.setStyles({
            textAlign: "center",
            background: "#fff"
          });

          var _this = this;
          this.setEvents({
            mouseover: function() {
              _this.setStyles({
                zIndex: 2
              });
              TweenMax.to(_this.getElement(), .1, {
                backgroundColor: "#F00",
                scale: 1.3,
                overwrite: "auto"
              });
            },
            mouseout: function() {
              TweenMax.to(_this.getElement(), .5, {
                backgroundColor: "#FFF",
                scale: 1,
                overwrite: "auto",
                onComplete: function() {
                  _this.setStyles({
                    zIndex: 1
                  });
                }
              });
            }
          });
        }
      });

      var rows = 20;
      var cols = 10;
      var buttonWidth = window.innerWidth / cols;
      var buttonHeight = window.innerHeight / rows;
      for (var i = 0; i < rows * cols; i++) {
        var b = new SimpleButton(i);
        b.x = i % cols * buttonWidth;
        b.y = Math.floor(i / cols) * buttonHeight;
        b.setStyles({
          width: buttonWidth + "px",
          height: buttonHeight + "px"
        });
        buttonContainer.addChild(b);
      }
    </script>
  </body>
</html>
